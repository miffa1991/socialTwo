{"version":3,"sources":["api/api.js","components/Navbar/Navbar.module.css","logo.svg","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","reportWebVitals.js","index.js","redux/auth-reducer.js","assets/img/preloader.gif","components/common/Preloader/Preloader.jsx","redux/profile-reducer.js","redux/dialogs-reducer.js","utils/object-helpers.js","redux/users-reducer.js","components/Header/Header.module.css"],"names":["instance","axios","baseURL","withCredentials","headers","userAPI","setUsers","currentPage","count","get","then","response","data","getFollow","id","post","getUnFollow","delete","authAPI","me","login","email","password","rememberMe","logout","profileAPI","getProfile","userID","getStatus","updateStatus","status","put","module","exports","Header","props","className","s","header","src","logo","alt","auth","onClick","to","HeaderContainer","this","React","Component","compose","connect","state","isLogin","Navbar","menu","item","activeClassName","active","SET_INITIALIZED_SUCCESS","initialState","initialized","appReducer","action","type","reducersBox","combineReducers","profilePage","profileReducer","messagePage","dialogsReducer","userPage","usersReducer","authReducer","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ProfileContainer","lazy","UsersContainer","Login","MessagesContainer","App","intializedApp","Suspense","fallback","Preloader","path","render","Appcontainer","withRouter","dispatch","promise","getAuth","Promise","all","AppFacebook","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById","SET_AUTH","setAuth","payload","a","resultCode","messages","stopSubmit","_error","preloader","ADD_POST","PROFILE_STATE","SET_STATUS","postWall","message","likeCount","profile","addNewPostActionCreator","text","setStatus","userId","resultcode","newPost","ADD_MESSAGE","dialogArr","name","messageArr","addNewMessageActionCreator","newTextMessage","newMessage","updateObjectInArray","object","objectPropName","newobjectProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","CURRENT_PAGE","TOTAL_USERS","IS_FETCHING","IS_DISABLE_BUTTONS","users","totalCount","fetching","disable","followAC","unFollowAC","setCurrentPage","setPageCount","isFetching","isDisable","getUsers","pageSize","items","followUnfollowFlow","apiMethod","actionCreator","follow","bind","unfollow","followed","filter"],"mappings":"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","file":"static/js/main.0d74e2fe.chunk.js","sourcesContent":["import * as axios from \"axios\";\n\nconst instance = axios.create({\n   baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n   withCredentials: true,\n   headers:{ \n      'API-KEY':'d2f5b007-0ccf-4ac0-acee-b03a552a8ba4'}\n});\n\nexport const userAPI = {\n   setUsers( currentPage = 1, count = 10) {\n      return instance.get(`users?page=${currentPage}&count=${count}`)\n         .then(response => response.data);\n      \n   },\n   getFollow(id) {\n      return instance.post(`follow/${id}`)\n      .then(response => response.data);\n      \n   },\n   getUnFollow(id) {\n      return instance.delete(`follow/${id}`)\n      .then(response => response.data);\n      \n   }\n}\n\n\nexport const authAPI = {\n   \n   me() {\n      return instance.get(`auth/me/`);\n      \n   },\n   login(email, password, rememberMe) {\n      return instance.post(`auth/login/`, {email, password, rememberMe});\n      \n   },\n   logout() {\n      return instance.delete(`auth/login/`);\n      \n   }\n}\n\n\nexport const profileAPI = {\n   getProfile(userID) {\n      return instance.get(`/profile/`+userID);\n   },\n   getStatus(userID) {\n      return instance.get(`/profile/status/`+userID);\n   },\n   updateStatus(status) {\n      return instance.put(`/profile/status/`,{status:status});\n   }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Navbar_menu__NKpxG\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport logo from './../../logo.svg';\nimport s from './Header.module.css';\n\nconst Header = (props) => {\n  /*<!-- Header ================================================= -->*/\n\n  return (\n    <header id=\"header\" className={`${s.header}`}>\n      <div className=\"container\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <div className=\"nameSite\">Panda</div>\n        {props.auth \n        ? <div>{props.login} <button onClick={props.logout}>Logout</button></div>  \n        : <NavLink to=\"/login\">Login</NavLink> }\n      </div>\n    </header>\n    );\n  }\n  \n  export default Header;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Header from './Header';\nimport { logout } from '../../redux/auth-reducer';\nimport { compose } from 'redux';\n// import { withAuthRedirect } from '../../redux/hoc/withAuthRedirect';\nclass HeaderContainer extends React.Component {\n  \n\n\n  render(){\n    \n    return (\n      <Header {...this.props}/>\n      );\n    }\n  }\n  \n  \n  let mapStateToProps = (state) => ({\n    auth: state.auth.isLogin,\n    login: state.auth.login\n  });\n\n  export default compose( \n    connect(mapStateToProps, { logout }),\n    // withAuthRedirect\n    ) (HeaderContainer);","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Navbar.module.css';\n\nconst Navbar = () => {\n   return(\n      <ul className={s.menu}>\n         <li className={`${s.item}`}><NavLink to=\"/profile\" activeClassName={`${s.active}`}>Profile</NavLink></li>\n         <li className={`${s.item}`}><NavLink to=\"/dialogs\" activeClassName={`${s.active}`}>Messages</NavLink></li>\n         <li className={`${s.item}`}><NavLink to=\"/users\" activeClassName={`${s.active}`}>Users</NavLink></li>\n      </ul>\n   );\n}\n\nexport default Navbar;","import { getAuth } from \"./auth-reducer\";\n\n// константы\nconst SET_INITIALIZED_SUCCESS = 'SET_INITIALIZED_SUCCESS';\n\nlet initialState = {\n   initialized: false\n};\n\nlet appReducer = (state = initialState, action) => {\n\n   switch (action.type) {\n\n      case SET_INITIALIZED_SUCCESS:\n\n         return {\n            ...state,\n            initialized:true\n         };\n         \n      default:\n         return {\n            ...state\n         };\n   }\n}\n\n\n//action creator можно просто импортировать в компоненты\n\nconst intializedSuccess = () =>({type:SET_INITIALIZED_SUCCESS});\n\n\n\n\nexport const intializedApp = () =>  (dispatch) => {\n   let promise = dispatch(getAuth());\n   Promise.all([promise]).then(()=>{\n      dispatch(intializedSuccess());\n   })\n}\n\n\n\n\n\nexport default appReducer;","import {combineReducers, createStore, applyMiddleware, compose} from 'redux'; \nimport thunkMiddleware from 'redux-thunk';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport usersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport { reducer as formReducer } from 'redux-form'\nimport appReducer from './app-reducer';\n\nlet reducersBox = combineReducers({\n   profilePage:profileReducer,\n   messagePage:dialogsReducer,\n   userPage: usersReducer,\n   auth:authReducer,\n   app: appReducer,\n   form: formReducer //reducer redux-form\n});\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n//настройка расширения для хрома\n\nconst store = createStore(reducersBox, composeEnhancers(\n\tapplyMiddleware(thunkMiddleware))\n);\n\n\nwindow.store = store; // для тестов в консоли, пишем store.\nexport default store;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\nimport './App.css';\nimport Preloader from './components/common/Preloader/Preloader';\nimport HeaderContainer from './components/Header/HeaderContainer.jsx';\nimport Navbar from './components/Navbar/Navbar';\nimport { intializedApp } from './redux/app-reducer';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\n\n // React.lazy загружаэмо компоненту тільки коли вона потрібна\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\nconst Login = React.lazy(() => import('./components/Login/Login'));\nconst MessagesContainer = React.lazy(() => import('./components/Messages/MessagesContainer'));\nclass App  extends React.Component  {\n   //debugger;\n\n  componentDidMount(){\n    this.props.intializedApp();  \n  }\n\n  render(){\n    if(!this.props.initialized){\n      return <Preloader />\n    }\n    return (\n      <div className=\"App\">\n        <HeaderContainer />\n        <div className=\"container\" >\n          <Navbar />\n           {/* // React.Suspense потрібний для роботи React.lazy */}\n          <React.Suspense fallback={<Preloader />}>\n            <Switch>\n                <Route path={`/profile/:userID?`} \n                render={ () => <ProfileContainer /> } /> \n                <Route path='/dialogs' render={ () => <MessagesContainer />} />\n                <Route path='/users' render={ () => <UsersContainer /> } />\n                <Route path='/login' render={ () => <Login /> } />\n            </Switch>\n          </React.Suspense>\n        </div>\n      </div>\n    );\n  }\n}\n\n/*<!-- \":\" - параметр \"?\" - не обезательный -->*/ \n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n});\nconst Appcontainer = compose( withRouter,\n  connect( mapStateToProps , {intializedApp}))(App);\n\n\n\n  const AppFacebook = (props) => {\n    return <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store} >\n        <Appcontainer />\n    </Provider>\n  </BrowserRouter>\n  }\n\n  export default AppFacebook;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppFacebook from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\n\n  ReactDOM.render(\n      <AppFacebook />,\n      document.getElementById('root')\n  );\n\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","import { stopSubmit } from \"redux-form\";\nimport { authAPI } from \"../api/api\";\n\n// константы\nconst SET_AUTH = 'SET_AUTH/auth';\n\nlet initialState = {\n   id: null,\n   email: null,\n   login:null,\n   isLogin: false\n};\n\nlet authReducer = (state = initialState, action) => {\n\n   switch (action.type) {\n\n      case SET_AUTH:\n\n         return {\n            ...state,\n            ...action.payload\n         };\n         \n      default:\n         return {\n            ...state\n         };\n   }\n}\n\n\n//action creator можно просто импортировать в компоненты\n\nconst setAuth = (id, email, login, isLogin) =>({type:SET_AUTH, payload:{id, email, login, isLogin }});\n\n\n\n\nexport const getAuth = () => async (dispatch) => {\n   \n\tlet response = await authAPI.me();\n\tif (response.data.resultCode === 0) {\n      let {id, email, login} = response.data.data; \n\t\tdispatch(setAuth(id, email, login, true));\n\t}\n   \n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n\n\tlet response = await authAPI.login(email, password, rememberMe);\n\tif (response.data.resultCode === 0) {\n\t\tdispatch(getAuth());\n\t} else {\n      let messages = response.data.messages ? response.data.messages[0] : 'some error';\n      dispatch(stopSubmit('login', {_error:messages}));\n   }\n\n}\n\nexport const logout = () => async (dispatch) => {\n\n\tlet response = await authAPI.logout();\n\tif (response.data.resultCode === 0) {\n      dispatch(setAuth(null, null, null, false));\n\t}\n\n}\n\n\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/preloader.7f686c03.gif\";","import React from 'react';\nimport preloader from '../../../assets/img/preloader.gif';\n\nconst Preloader = () => {\n   return (\n      <img src={preloader} alt=\"\"/>\n   )\n}\n\nexport default Preloader;","import { profileAPI } from \"../api/api\";\n\n// константы\nconst ADD_POST = 'ADD-POST/profile';\nconst PROFILE_STATE = 'PROFILE_STATE/profile';\nconst SET_STATUS = 'SET_STATUS/profile';\n\nlet initialState = {\n   postWall: [\n      {id:1, message:'Hi. I am good. Thx', likeCount:22},\n      {id:2, message:'Go Go Go', likeCount:22},\n      {id:3, message:'Go Go Go', likeCount:23}\n   ],\n   profile: null,\n   status: 'good'\n};\n\nlet profileReducer = (state = initialState, action) => {\n\n   switch (action.type) {\n\n      case ADD_POST:\n         let newPost = {\n            id:5,\n            message:action.text,\n            likeCount:0\n         }\n\n         return {\n            ...state,\n            postWall:[...state.postWall, newPost]\n         };\n\n      case PROFILE_STATE:\n\n      return {\n         ...state,\n         profile: action.profile\n      };\n\n      case SET_STATUS:\n\n      return {\n         ...state,\n         status: action.status\n      }\n         \n      default:\n         return {\n            ...state\n         };\n   }\n}\n\n\n//action creator можно просто импортировать в компоненты\nexport const addNewPostActionCreator = (text) => ({type:ADD_POST, text}); \n// export const changePostTextActionCreator = (text) => ({type:UPDATE_TEXT_NEW_POST, text:text}); \nexport const setProfile = (profile) =>({type:PROFILE_STATE, profile});\nconst setStatus = (status) =>({type:SET_STATUS, status});\n\n\n// thunk\n\nexport const getProfile = (userId) => async (dispatch) => {\n   let response = await profileAPI.getProfile(userId);\n      dispatch(setProfile(response.data));\n}\n\nexport const getStatus = (userId) => async (dispatch) => {\n   let response = await  profileAPI.getStatus(userId);\n      dispatch(setStatus(response.data));\n}\n\nexport const updateStatus = (status) => async (dispatch) => {\n   let response = await  profileAPI.updateStatus(status);\n      if(response.data.resultcode === 0){\n         dispatch(setStatus(response.data));\n      }\n}\n\nexport default profileReducer;","// константы\nconst ADD_MESSAGE = 'ADD_MESSAGE';\n\nlet initialState = {\n      dialogArr: [\n         {id:1, name:'Vadym'},\n         {id:2, name:'Kolya'},\n         {id:3, name:'Sveta'}\n      ],\n      messageArr: [\n         {id:1, message:'hi'},\n         {id:2, message:'How are you?'},\n         {id:3, message:'How are you?'}\n      ]\n};\n\nlet dialogsReducer = (state = initialState, action) => {\n\n   switch (action.type) {\n\n      case ADD_MESSAGE:\n         let newMessage = {\n            id:5,\n            message:action.newTextMessage,\n         }\n         return {\n            ...state,\n            messageArr: [...state.messageArr, newMessage]\n         }\n\n      default:\n         return state;\n   }\n}\n\n\n//action creator можно просто импортировать в компоненты\nexport const addNewMessageActionCreator = (newTextMessage) => ({type:ADD_MESSAGE, newTextMessage}); \n// export const changeMessageTextActionCreator = (text) => ({type:UPDATE_TEXT_NEW_MESSAGE, text:text}); \n\nexport default dialogsReducer;","\nexport const updateObjectInArray = (object, id, objectPropName, newobjectProps)  => {\n   return object.map(u => {\n      if (u[objectPropName] === id) {\n         return { ...u, ...newobjectProps };\n      }\n      return u;\n   })\n}","import { updateObjectInArray } from \"../utils/object-helpers\";\nimport { userAPI } from \"./../api/api\";\n\n// константы\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst CURRENT_PAGE = 'CURRENT_PAGE';\nconst TOTAL_USERS = 'TOTAL_USERS'; \nconst IS_FETCHING = 'IS_FETCHING'; \nconst IS_DISABLE_BUTTONS = 'IS_DISABLE_BUTTONS'; \n\nlet initialState = {\n   users: [],\n   count: 10, // Количество пользователей на странице\n   currentPage: 1, // Текущая страница\n   totalCount: 10, // Количество пользователей\n   fetching: true,\n   disable:[]\n};\n\nlet usersReducer = (state = initialState, action) => {\n   \n   switch (action.type) {\n      \n      case SET_USERS:\n      \n      return {\n         ...state,\n         users:[...action.users]\n      };\n      \n      case CURRENT_PAGE:\n      \n      return {\n         ...state,\n         currentPage:action.currentPage\n      };\n      \n      case TOTAL_USERS:\n      \n      return {\n         ...state,\n         totalCount:action.totalCount\n      };\n      \n      case FOLLOW:\n      \n      return {\n         ...state,\n         users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\n      };\n      \n      case UNFOLLOW:\n      \n      return {\n         ...state,\n         users: updateObjectInArray(state.users, action.userID, 'id', {followed: false}) \n      };\n      \n      case IS_FETCHING:\n      \n      return {\n         ...state,\n         fetching:action.fetching\n      };\n      case IS_DISABLE_BUTTONS:\n      \n      return {\n         ...state, disable: action.isFetching\n         ? [...state.disable, action.userId]\n         : state.disable.filter(id => id !== action.userId)\n      };\n      \n      \n      default:\n      return state;\n   }\n}\n\n\n//action creator можно просто импортировать в компоненты\nexport const followAC = (userID) => ({type:FOLLOW, userID}); \nexport const unFollowAC = (userID) => ({type:UNFOLLOW, userID}); \nexport const setUsers = (users) => ({type:SET_USERS, users}); \nexport const setCurrentPage = (currentPage) => ({type:CURRENT_PAGE, currentPage});\nexport const setPageCount = (totalCount) => ({type:TOTAL_USERS, totalCount}); \nexport const isFetching = (fetching) => ({type:IS_FETCHING, fetching}); \nexport const isDisable = (isFetching, userId) => ({ type: IS_DISABLE_BUTTONS, isFetching, userId });\n\n\n\n\n//dispatch thunk\n\nexport const getUsers = (currentPage, pageSize) =>  async (dispatch) => {\n   dispatch(isFetching(true));\n   dispatch(setCurrentPage(currentPage))\n   const data = await userAPI.setUsers(currentPage, pageSize);\n   dispatch(isFetching(false));\n   dispatch(setUsers(data.items));\n   dispatch(setPageCount(data.totalCount));\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => { \n   //виносимо код з follow, unfollow який дублюється в окрему функцію\n   dispatch(isDisable(true, userId));\n   const response = await apiMethod(userId);\n   if (response.data.resultCode === 0) {\n      dispatch(actionCreator(userId));\n   }\n   dispatch(isDisable(false, userId));\n}\n\nexport const follow = (userId) =>  async (dispatch) => {\n   followUnfollowFlow(dispatch, userId, userAPI.getFollow.bind(userId), followAC);\n}\n\nexport const unfollow = (userId) => async (dispatch) => {\n   followUnfollowFlow(dispatch, userId, userAPI.getUnFollow.bind(userId), unFollowAC);\n}\n\n\n\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\"};"],"sourceRoot":""}